(function(e){function t(t){for(var n,i,s=t[0],u=t[1],l=t[2],c=0,p=[];c<s.length;c++)i=s[c],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);d&&d(t);while(p.length)p.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,s=1;s<a.length;s++){var u=a[s];0!==o[u]&&(n=!1)}n&&(r.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},o={app:0},r=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=u;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},1128:function(e,t,a){},"16f8":function(e,t,a){},2309:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);var n=a("2b0e"),o=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("h1",[e._v("PURCHASE MANAGER")]),t("router-view")],1)},r=[],i=(a("d675"),a("2877")),s={},u=Object(i["a"])(s,o,r,!1,null,null,null),l=u.exports,d=a("8c4f"),c=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"make"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.newTodoName,expression:"newTodoName"}],attrs:{type:"text",placeholder:"購入物品を記入"},domProps:{value:e.newTodoName},on:{input:function(t){t.target.composing||(e.newTodoName=t.target.value)}}}),t("select",{directives:[{name:"model",rawName:"v-model",value:e.newCompanyType,expression:"newCompanyType"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.newCompanyType=t.target.multiple?a:a[0]}}},[t("option",{attrs:{disabled:"",value:""}},[e._v("購入先を選択")]),e._l(e.optionCompanies,(function(a){return t("option",{key:a.id,domProps:{value:a.name}},[e._v(e._s(a.name))])}))],2),t("select",{directives:[{name:"model",rawName:"v-model",value:e.newBudget,expression:"newBudget"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.newBudget=t.target.multiple?a:a[0]}}},[t("option",{attrs:{disabled:"",value:""}},[e._v("予算を選択")]),e._l(e.optionBudget,(function(a){return t("option",{key:a.id,domProps:{value:a.name}},[e._v(e._s(a.name))])}))],2),t("button",{attrs:{type:"submit"},on:{click:function(t){return e.createTodo()}}},[e._v("物品登録")])]),t("div",{staticClass:"search"},[e._v(" 状況： "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.showTodoType,expression:"showTodoType"}],attrs:{"name:":"status"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.showTodoType=t.target.multiple?a:a[0]}}},[t("option",{attrs:{value:"all"}},[e._v("すべて")]),e._l(e.optionStatus,(function(a){return t("option",{key:a.id,domProps:{value:a.name}},[e._v(e._s(a.name))])}))],2)]),t("div",{staticClass:"tasks"},e._l(e.filteredTodos,(function(a,n){return t("div",{key:a.id,staticClass:"task"},[t("div",{class:[0==a.active?"status0":1==a.active?"status1":2==a.active?"status2":3==a.active?"status3":4==a.active?"status4":5==a.active?"status5":"status0"]}),e._v(" 物品内容："+e._s(a.name)),t("br"),e._v(" 購入先："+e._s(a.company)),t("br"),e._v(" 予算："+e._s(a.budget)),t("br"),e._v(" 状況： "),t("select",{directives:[{name:"model",rawName:"v-model",value:a.status,expression:"todo.status"}],attrs:{"name:":"status"},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(a,"status",t.target.multiple?n:n[0])},function(t){return e.updateStatus(a,n)}]}},e._l(e.optionStatus,(function(a){return t("option",{key:a.id,domProps:{value:a.name}},[e._v(e._s(a.name))])})),0),t("br"),t("button",{attrs:{type:"submit"},on:{click:function(t){return e.deleteTodo(n)}}},[e._v("×")])])})),0)])},p=[],m=a("2591"),v={name:"Task",data(){return{database:null,todosRef:null,newTodoName:"",newCompanyType:"",newBudget:"",showTodoType:"all",todos:[],optionCompanies:[{id:1,name:"会社1"},{id:2,name:"会社2"},{id:3,name:"会社3"}],optionBudget:[{id:1,name:"予算1"},{id:2,name:"予算2"},{id:3,name:"予算3"}],optionStatus:[{id:1,name:"見積り待ち"},{id:2,name:"見積り完了"},{id:3,name:"発注待ち"},{id:4,name:"発送待ち"},{id:5,name:"検収待ち"},{id:6,name:"完了"}]}},created:function(){this.database=m["a"].database(),this.uid=m["a"].auth().currentUser.uid,this.todosRef=this.database.ref("todos/");this.todosRef.on("value",e=>{this.todos=e.val()})},computed:{filteredTodos:function(){if("all"==this.showTodoType)return this.todos;var e={};for(var t in this.todos){var a=this.todos[t];a.status==this.showTodoType&&(e[t]=a)}return e}},methods:{createTodo:function(){""!=this.newTodoName&&""!=this.newCompanyType&&""!=this.newBudget&&(this.todosRef.push({name:this.newTodoName,company:this.newCompanyType,budget:this.newBudget,isComplete:!1,status:"見積り待ち",active:0}),this.newTodoName="")},updateIsCompleteTodo:function(e,t){e.isComplete=!e.isComplete;var a={};a[t]=e,this.todosRef.update(a)},updateStatus:function(e,t){switch(e.status){case"見積り待ち":e.active=0;break;case"見積り完了":e.active=1;break;case"発注待ち":e.active=2;break;case"発送待ち":e.active=3;break;case"検収待ち":e.active=4;break;case"完了":e.active=5;break;default:break}var a={};a[t]=e,this.todosRef.update(a)},deleteTodo:function(e){this.todosRef.child(e).remove()}}},f=v,h=(a("ddc8"),Object(i["a"])(f,c,p,!1,null,null,null)),g=h.exports,w=function(){var e=this,t=e._self._c;return t("div",{staticClass:"signup"},[t("h2",[e._v("サインアップ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"email",placeholder:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),t("button",{on:{click:e.signUp}},[e._v("登録")]),t("p",[e._v(" アカウントをすでにお持ちの方 "),t("router-link",{attrs:{to:"/signin"}},[e._v("sign in now")])],1)])},y=[],b={name:"Singup",data(){return{email:"",password:""}},methods:{signUp:function(){m["a"].auth().createUserAndRetrieveDataWithEmailAndPassword(this.email,this.password).then(e=>{alert("Create account: "+e.user.email)}).catch(e=>{alert(e.message)})}}},_=b,T=Object(i["a"])(_,w,y,!1,null,null,null),k=T.exports,C=function(){var e=this,t=e._self._c;return t("div",{staticClass:"signin"},[t("button",{on:{click:e.signInWithGoogle}},[e._v("Googleアカウントでサインイン")])])},A=[],P={name:"Signin",data(){return{email:"",password:""}},methods:{signInWithGoogle:function(){const e=new m["a"].auth.GoogleAuthProvider;m["a"].auth().signInWithPopup(e).then(e=>{this.$router.push("/")}).catch(e=>{alert(e.message)})}}},S=P,x=(a("e30b"),Object(i["a"])(S,C,A,!1,null,null,null)),N=x.exports;n["a"].use(d["a"]);let O=new d["a"]({mode:"history",routes:[{path:"*",redirect:"signin"},{path:"/",name:"task",component:g,meta:{requiresAuth:!0}},{path:"/signup",name:"Signup",component:k},{path:"/signin",name:"Signin",component:N}]});O.beforeEach((e,t,a)=>{let n=e.matched.some(e=>e.meta.requiresAuth),o=m["a"].auth().currentUser;n?o?a():a({path:"/signin",query:{redirect:e.fullPath}}):a()});var j=O;n["a"].config.productionTip=!1;const R={apiKey:"AIzaSyAY-67C_YhQ-4r6AJKkAb0_VS-MAeAyOhg",authDomain:"vue-todo-9ee29.firebaseapp.com",databaseURL:"https://vue-todo-9ee29-default-rtdb.firebaseio.com",projectId:"vue-todo-9ee29",storageBucket:"vue-todo-9ee29.appspot.com",messagingSenderId:"308376480256",appId:"1:308376480256:web:d6ef8b1c94a1f9422446e5",measurementId:"G-NR17SWE0KK"};m["a"].initializeApp(R),new n["a"]({router:j,render:e=>e(l)}).$mount("#app")},d675:function(e,t,a){"use strict";a("2309")},ddc8:function(e,t,a){"use strict";a("1128")},e30b:function(e,t,a){"use strict";a("16f8")}});
//# sourceMappingURL=app.a83526d1.js.map